<div data-aos="fade-left">
  <div class="mat-primary titulo">{{ operacion }} usuario</div>

  <div
    class="container1"
    fxLayout="row"
    fxLayout.lt-sm="column"
    fxLayoutAlign="center center"
    fxLayoutGap="10px"
  >
    <mat-card class="card" fxFlex="80%" fxFlex.lt-md="100%">
      <mat-card-subtitle style="text-align: center">
        <h2>Datos</h2>
      </mat-card-subtitle>
      <form
        [formGroup]="form"
        style="margin-top: 10px"
        (ngSubmit)="operacion === 'Agregar' ? addUser() : editUser()"
      >
        <mat-grid-list cols="2" rowHeight="80px">
          <mat-grid-tile>
            <mat-form-field class="mat-form-field" appearance="outline">
              <mat-label>Nombre</mat-label>
              <input formControlName="Username" matInput autocomplete="off" />
              <mat-error
                *ngIf="
                  form.controls.Username.invalid &&
                  form.controls.Username.touched
                "
              >
                nombre inválido
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile *ngIf="operacion === 'Agregar'">
            <mat-form-field class="mat-form-field" appearance="outline">
              <mat-label>Contraseña</mat-label>
              <input formControlName="Password" matInput autocomplete="off" />
              <mat-error
                *ngIf="
                  form.controls.Password.invalid &&
                  form.controls.Password.touched
                "
              >
                pasword inválido
              </mat-error>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile>
            <mat-form-field>
              <mat-label>Rol del usuario</mat-label>
              <mat-select [formControl]="roleControl" required>
                <mat-option *ngFor="let role of _roles" [value]="role">
                  {{ role.name }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="roleControl.hasError('required')"
                >Por favor introduzca un rol</mat-error
              >
              <mat-hint>{{ roleControl.value }}</mat-hint>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile colspan="2">
            <button
              [disabled]="form.invalid || roleControl.invalid"
              y
              type="submit"
              class="btnacept"
              mat-raised-button
              color="primary"
            >
              Aceptar
            </button>
            <button
              type="button"
              mat-raised-button
              routerLink="/dashboard/users-admin"
            >
              Volver
            </button>
          </mat-grid-tile>
        </mat-grid-list>
      </form>
    </mat-card>
  </div>
</div>
